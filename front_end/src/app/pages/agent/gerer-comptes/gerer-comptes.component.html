<div class="comptes-container">
  <h2>Gestion des comptes</h2>
  <input type="text" [(ngModel)]="filtre" placeholder="🔍 Rechercher par nom ou numéro..." />
  <p class="message">{{ message }}</p>

  <table>
    <thead>
      <tr>
        <th>Nom</th>
        <th>N° compte</th>
        <th>Modifier</th>
        <th>Bloquer</th>
        <th>Supprimer</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let compte of comptesPaginees">
        <td>{{ compte.nom }}</td>
        <td>{{ compte.numero_compte }}</td>
        
        <td>
  <button (click)="ouvrirModal(compte)">✏️</button>
</td>

        <td><button (click)="bloquer(compte.id)">🚫</button></td>
        <td><button (click)="supprimer(compte.id)" class="danger">🗑️</button></td>
      </tr>
    </tbody><div class="pagination-controls" *ngIf="comptesFiltres.length > pageSize">
  <button (click)="pageIndex = pageIndex - 1" [disabled]="pageIndex === 0">⬅️ Précédent</button>
  <span>Page {{ pageIndex + 1 }} / {{ totalPages }}</span>
  <button (click)="pageIndex = pageIndex + 1" [disabled]="(pageIndex + 1) * pageSize >= comptesFiltres.length">Suivant ➡️</button>
</div>


  </table>
</div>
<div class="modal" *ngIf="modalOuvert">
  <div class="modal-content">
    <h3>Modifier le compte</h3>
    <form (ngSubmit)="validerModification()">
      <label>Nom</label>
      <input [(ngModel)]="compteSelectionne.nom" name="nom" />

      <label>N° Compte</label>
      <input [(ngModel)]="compteSelectionne.numero_compte" name="numero_compte" disabled />

      <button type="submit">✅ Enregistrer</button>
      <button type="button" (click)="fermerModal()">❌ Annuler</button>
    </form>
  </div>
</div>

